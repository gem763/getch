{% extends "getchapp/layout.html" %}

{% block css %}
  {{ block.super }}
  <style>
    .grid {
      /* background: lightgreen; */
      /* max-width: 1200px; */
    }

    /* clearfix */
    .grid:after {
      content: '';
      display: block;
      clear: both;
    }

    /* ---- grid-item ---- */

    .grid-sizer,
    .grid-item {
      width: 25%;
      float: left;
      padding: 10px;
      /* padding-bottom: 30px; */
      background: none;
      /* opacity: 0;
      transition: opacity 0.5s !important; */
    }

    .grid-item img {
      display: block;
      max-width: 100%;
      /* border-bottom: 10px solid; */
    }

    .grid-item img:hover {
      opacity: 0.5;
    }
  </style>
{% endblock css %}

{% block mastheader %}
{% include "getchapp/header.html" with type="with_banner" %}
{% endblock mastheader %}

{% block mastbody %}
<div class="ui vertical center aligned segment" style="background:none;height:500px;">
  <div class="ui container" style="background:none;">
    <div class="grid" style="background:none;">
      {% for post in posts %}
      <div class="grid-item" style="position:relative;">
        <div style="background:none;text-align:left;">
          <a href="/post/{{post.id}}">
            <img class="ui image" src="{{ post.image.url }}"/>
          </a>
          <i class="ui big barcode icon" style="background:none;padding-left:5px;padding-top:5px;color:red;"></i>
          <i class="ui ellipsis horizontal icon" style="position:absolute;bottom:15px;right:10px;"></i>
        </div>
      </div>
      {% endfor %}
      <div class="grid-sizer"></div>
    </div>
  </div>
</div>
</div>
{% endblock mastbody %}

{% block js %}
  {{ block.super }}
  <script>
    $('.grid').masonry({
      itemSelector: '.grid-item',
      percentPosition: true,
      columnWidth: '.grid-sizer'
    });
  </script>
{% endblock js %}
